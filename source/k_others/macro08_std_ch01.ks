
;※ 変数名のキャラ部分に関して
;※ 〜ch01〜
;※ 〜chara01〜
;※ 〜char01〜
;※ 諸般の事情で表記がまちまちになってしまったがキャラ１の変数を表す
;※ もし他の人がこのファイルを元に置換するときは、置換漏れが内容に注意してください。

;===========================================================
;緋神 茜
;===========================================================

;めんどくさいから中央以外は計算で出したいなぁ
;mlが
;leが25％
;lcが30％
;centerが50%
;rcが70％
;riが75％
;mrが
;とかじゃだめ？

;ほほファイル名。全キャラ共通のはず マクロ外に書くのはsfじゃないとだめか。タイトル選ぶときにたぶん変数リセット入ってるから
;

;fにしてch01~5を両タイトルで使い回そうかと思ったけどやっぱり怖いからそのまま

;[eval exp="sf.image_hoho  = '_頬赤'"]
;ファイル名の頭
[eval exp="sf.image_name_ch01  = 'ch01_'"]

[eval exp="sf.ch01_sml_w = 420"]
[eval exp="sf.ch01_sml_h = 900"]
[eval exp="sf.ch01_mid_w = 560"]
[eval exp="sf.ch01_mid_h = 1200"]
[eval exp="sf.ch01_lag_w = 840"]
[eval exp="sf.ch01_lag_h = 1800"]
[eval exp="sf.ch01_xla_w = 1400"]
[eval exp="sf.ch01_xla_h = 3000"]

;画像の幅
[eval exp="tf.std_w = sf.ch01_sml_w"]
[eval exp="sf.ch01_sml_ce  = int + ((kag.scWidth/2) - (tf.std_w/2) + 0)"]
[eval exp="sf.ch01_sml_le  = int + ((sf.ch01_sml_ce - tf.std_w)    + 0)"]
[eval exp="sf.ch01_sml_lc  = int + ((sf.ch01_sml_ce - tf.std_w/2)  + 0)"]
[eval exp="sf.ch01_sml_rc  = int + ((sf.ch01_sml_ce + tf.std_w/2)  + 0)"]
[eval exp="sf.ch01_sml_ri  = int + ((sf.ch01_sml_ce + tf.std_w)    + 0)"]
[eval exp="sf.ch01_sml_y = 80 + 50"]

;[eval exp="sf.ch01_sml_ce  = int + ((kag.scWidth/2) - (tf.std_w/2))"]-190
;	[eval exp="sf.ch01_sml_ce  = -190"]
;	[eval exp="sf.ch01_sml_le  = int + ((sf.ch01_sml_ce * 3))"]
;	[eval exp="sf.ch01_sml_lc  = int + ((sf.ch01_sml_ce * 2))"]
;	[eval exp="sf.ch01_sml_rc  = int + (sf.ch01_sml_ce + (sf.ch01_sml_ce * 1 *-1))"]
;					;単純に190でもいいんだけど
;	[eval exp="sf.ch01_sml_ri  = int + (sf.ch01_sml_ce + (sf.ch01_sml_ce * 2 *-1))"]
;	;[eval exp="sf.ch01_sml_x = [0, 0, 0, sf.ch01_sml_ce,0,0]"]
;	;[eval exp="sf.ch01_sml_y = -15 - 20"]
;	[eval exp="sf.ch01_sml_y = 130"]

;画像の幅
[eval exp="tf.std_w = sf.ch01_mid_w"]
[eval exp="sf.ch01_mid_ce  = int + ((kag.scWidth/2) - (tf.std_w/2) + 0)"]
[eval exp="sf.ch01_mid_le  = int + ((sf.ch01_mid_ce - tf.std_w)    + 150)"]
[eval exp="sf.ch01_mid_lc  = int + ((sf.ch01_mid_ce - tf.std_w/2)  + 50)"]
[eval exp="sf.ch01_mid_rc  = int + ((sf.ch01_mid_ce + tf.std_w/2)  - 50)"]
[eval exp="sf.ch01_mid_ri  = int + ((sf.ch01_mid_ce + tf.std_w)    - 150)"]
[eval exp="sf.ch01_mid_y = 50 + 50"]
;	;[eval exp="sf.ch01_mid_ce  = int + ((kag.scWidth/2) - (tf.std_w/2))"]
;	[eval exp="sf.ch01_mid_ce  = -190"]
;	[eval exp="sf.ch01_mid_le  = int + ((sf.ch01_mid_ce * 3))"]
;	[eval exp="sf.ch01_mid_lc  = int + ((sf.ch01_mid_ce * 2.2))"]
;	[eval exp="sf.ch01_mid_rc  = int + (sf.ch01_mid_ce + (sf.ch01_mid_ce * 1.2 *-1))"]
;	[eval exp="sf.ch01_mid_ri  = int + (sf.ch01_mid_ce + (sf.ch01_mid_ce * 2 *-1))"]
;	;[eval exp="sf.ch01_mid_x = [0, 0, 0, sf.ch01_mid_中,0,0]"]
;	[eval exp="sf.ch01_mid_y = 100"]

;画像の幅
[eval exp="tf.std_w = sf.ch01_lag_w"]
[eval exp="sf.ch01_lag_ce  = int + ((kag.scWidth/2) - (tf.std_w/2) + 0)"]
;大はレフト・ライトをレフトセンター・ライトセンターと同じにしておく
[eval exp="sf.ch01_lag_le  = int + ((sf.ch01_lag_ce - tf.std_w/2) + 120)"]
[eval exp="sf.ch01_lag_lc  = int + ((sf.ch01_lag_ce - tf.std_w/2) + 120)"]
[eval exp="sf.ch01_lag_rc  = int + ((sf.ch01_lag_ce + tf.std_w/2) - 120)"]
[eval exp="sf.ch01_lag_ri  = int + ((sf.ch01_lag_ce + tf.std_w/2) - 120)"]
[eval exp="sf.ch01_lag_y = 10 + 50"]
;	;[eval exp="sf.ch01_lag_ce  = int + ((kag.scWidth/2) - (tf.std_w/2))"]
;	[eval exp="sf.ch01_lag_ce  = -190"]
;	;大はレフト・ライトをレフトセンター・ライトセンターと同じにしておく
;	[eval exp="sf.ch01_lag_le  = int + ((sf.ch01_lag_ce * 3) + 70)"]
;	[eval exp="sf.ch01_lag_lc  = int + ((sf.ch01_lag_ce * 3) + 70)"]
;	[eval exp="sf.ch01_lag_rc  = int + (sf.ch01_lag_ce + (sf.ch01_lag_ce * 2 *-1) - 70)"]
;	[eval exp="sf.ch01_lag_ri  = int + (sf.ch01_lag_ce + (sf.ch01_lag_ce * 2 *-1) - 70)"]
;	;[eval exp="sf.ch01_u_x = [0, 0, 0, sf.ch01_u_中,0,0]"]
;	;上ぴったりなの気になるから邪淫1より少し下げ
;	[eval exp="sf.ch01_lag_y = -30 + 10"]

;画像の幅
[eval exp="tf.std_w = sf.ch01_xla_w"]
[eval exp="sf.ch01_xla_ce  = int + ((kag.scWidth/2) - (tf.std_w/2) + 0)"]
;大はレフト・ライトをレフトセンター・ライトセンターと同じにしておく
[eval exp="sf.ch01_xla_le  = int + ((sf.ch01_xla_ce - tf.std_w/2) + 360)"]
[eval exp="sf.ch01_xla_lc  = int + ((sf.ch01_xla_ce - tf.std_w/2) + 360)"]
[eval exp="sf.ch01_xla_rc  = int + ((sf.ch01_xla_ce + tf.std_w/2) - 360)"]
[eval exp="sf.ch01_xla_ri  = int + ((sf.ch01_xla_ce + tf.std_w/2) - 360)"]
[eval exp="sf.ch01_xla_y = -100 + 50"]


;記述例
;[std_ku l a ha a01][trans method=crossfade time=150][wt_c]

[macro name=std_aka]

	[eval exp=%exp]

	;パーツ一旦カラに
	[eval exp="f.face_win_char01_parts2 = 0"]
	[eval exp="f.face_win_char01_parts3 = 0"]
	;フェイスウィンドウ用　ポーズの打ち分け用 座標変わらないから1でいいか
	[eval exp="f.face_win_char01_pose = 1"]


	[backlay_c cond="mp.off == void"]

	;〜〜〜〜〜〜〜〜〜〜〜大になったら背景も大にするためのマクロ〜〜〜〜〜〜〜〜〜〜〜
;やっぱ複雑すぎでは
;	[bg_size_change *]

	;変数定義だけしてimageタグは最後でいいんじゃないか？
	;〜〜〜〜〜〜〜〜〜〜〜サイズ・レイヤ・座標定義〜〜〜〜〜〜〜〜〜〜〜

	;レイヤを未指定の時は自動でレイヤを確定する
			;揺らしで使うレイヤも定義しちゃう
;	[if    exp="mp.ce"][eval exp="f.layer = sf.layerC  , f.layer_ch01 = sf.layerC "]
;	[elsif exp="mp.le"][eval exp="f.layer = sf.layerL  , f.layer_ch01 = sf.layerL "]
;	[elsif exp="mp.ri"][eval exp="f.layer = sf.layerR  , f.layer_ch01 = sf.layerR "]
;	[elsif exp="mp.lc"][eval exp="f.layer = sf.layerLC , f.layer_ch01 = sf.layerLC"]
;	[elsif exp="mp.rc"][eval exp="f.layer = sf.layerRC , f.layer_ch01 = sf.layerRC"]
;	;上記以外の座標を入力
;	[else]
;	[eval exp="f.layer = mp.layer  , f.layer_ch01 = mp.layer "]
;	[endif]
	;↑はサイズ内でやったほうが処理減るか。f.layerもいらないな
	
	;サイズ 小
	[if    exp="mp.s"]

;		[bg_s *]
		;f.stdsizeは最後に貼ったキャラの変数を保存。f.stdsize_ch01は揺らしで使う判定用。f.image_size_ch01はimageタグで使うファイル名生成用。
		[eval exp="f.stdsize = 's' , f.stdsize_ch01 = 's' , f.image_size_ch01 = 's'"]
		;座標変数定義
		[if    exp="mp.ce"][eval exp="f.layer_ch01 = sf.layerC  , f.pos_ch01 = 'ce'"][eval exp="f.pos_ch01_x = sf.ch01_sml_ce" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_sml_y" cond="mp.y == void"]
		[elsif exp="mp.le"][eval exp="f.layer_ch01 = sf.layerL  , f.pos_ch01 = 'le'"][eval exp="f.pos_ch01_x = sf.ch01_sml_le" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_sml_y" cond="mp.y == void"]
		[elsif exp="mp.ri"][eval exp="f.layer_ch01 = sf.layerR  , f.pos_ch01 = 'ri'"][eval exp="f.pos_ch01_x = sf.ch01_sml_ri" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_sml_y" cond="mp.y == void"]
		[elsif exp="mp.lc"][eval exp="f.layer_ch01 = sf.layerLC , f.pos_ch01 = 'lc'"][eval exp="f.pos_ch01_x = sf.ch01_sml_lc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_sml_y" cond="mp.y == void"]
		[elsif exp="mp.rc"][eval exp="f.layer_ch01 = sf.layerRC , f.pos_ch01 = 'rc'"][eval exp="f.pos_ch01_x = sf.ch01_sml_rc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_sml_y" cond="mp.y == void"]
		[endif]
		;上記以外の座標を入力
		;直入力のときの揺らしどうしようかなぁ mpでいいじゃん
		[eval exp="f.pos_ch01_x = sf['ch01_sml_' + f.pos_ch01] + (+mp.x)" cond="mp.x != void"]
		[eval exp="f.pos_ch01_y = sf.ch01_sml_y + (+mp.y)"                cond="mp.y != void"]


	;サイズ 中
	[elsif exp="mp.m"]
;		[bg_s *]
		;f.stdsizeは最後に貼ったキャラの変数を保存。f.stdsize_ch01は揺らしで使う判定用。f.image_size_ch01はimageタグで使うファイル名生成用。
		[eval exp="f.stdsize = 'm' , f.stdsize_ch01 = 'm' , f.image_size_ch01 = 'm'"]
		;座標変数定義
		[if    exp="mp.ce"][eval exp="f.layer_ch01 = sf.layerC  , f.pos_ch01 = 'ce'"][eval exp="f.pos_ch01_x = sf.ch01_mid_ce" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[elsif exp="mp.le"][eval exp="f.layer_ch01 = sf.layerL  , f.pos_ch01 = 'le'"][eval exp="f.pos_ch01_x = sf.ch01_mid_le" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[elsif exp="mp.ri"][eval exp="f.layer_ch01 = sf.layerR  , f.pos_ch01 = 'ri'"][eval exp="f.pos_ch01_x = sf.ch01_mid_ri" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[elsif exp="mp.lc"][eval exp="f.layer_ch01 = sf.layerLC , f.pos_ch01 = 'lc'"][eval exp="f.pos_ch01_x = sf.ch01_mid_lc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[elsif exp="mp.rc"][eval exp="f.layer_ch01 = sf.layerRC , f.pos_ch01 = 'rc'"][eval exp="f.pos_ch01_x = sf.ch01_mid_rc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[endif]
		;上記以外の座標を入力
		;直入力のときの揺らしどうしようかなぁ mpでいいじゃん
		[eval exp="f.pos_ch01_x = sf['ch01_mid_' + f.pos_ch01] + (+mp.x)" cond="mp.x != void"]
		[eval exp="f.pos_ch01_y = sf.ch01_mid_y + (+mp.y)"                cond="mp.y != void"]
	;サイズ 大
	[elsif exp="mp.l"]
;		[bg_l *]
		;f.stdsizeは最後に貼ったキャラの変数を保存。f.stdsize_ch01は揺らしで使う判定用。f.image_size_ch01はimageタグで使うファイル名生成用。
		[eval exp="f.stdsize = 'l' , f.stdsize_ch01 = 'l' , f.image_size_ch01 = 'l'"]
		;座標変数定義
		[if    exp="mp.ce"][eval exp="f.layer_ch01 = sf.layerC  , f.pos_ch01 = 'ce'"][eval exp="f.pos_ch01_x = sf.ch01_lag_ce" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_lag_y" cond="mp.y == void"]
		[elsif exp="mp.le"][eval exp="f.layer_ch01 = sf.layerL  , f.pos_ch01 = 'le'"][eval exp="f.pos_ch01_x = sf.ch01_lag_le" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_lag_y" cond="mp.y == void"]
		[elsif exp="mp.ri"][eval exp="f.layer_ch01 = sf.layerR  , f.pos_ch01 = 'ri'"][eval exp="f.pos_ch01_x = sf.ch01_lag_ri" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_lag_y" cond="mp.y == void"]
		[elsif exp="mp.lc"][eval exp="f.layer_ch01 = sf.layerLC , f.pos_ch01 = 'lc'"][eval exp="f.pos_ch01_x = sf.ch01_lag_lc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_lag_y" cond="mp.y == void"]
		[elsif exp="mp.rc"][eval exp="f.layer_ch01 = sf.layerRC , f.pos_ch01 = 'rc'"][eval exp="f.pos_ch01_x = sf.ch01_lag_rc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_lag_y" cond="mp.y == void"]
		[endif]
		;上記以外の座標を入力
		;直入力のときの揺らしどうしようかなぁ mpでいいじゃん
		[eval exp="f.pos_ch01_x = sf['ch01_lag_' + f.pos_ch01] + (+mp.x)" cond="mp.x != void"]
		[eval exp="f.pos_ch01_y = sf.ch01_lag_y + (+mp.y)"                cond="mp.y != void"]
	;サイズ 大
	[elsif exp="mp.xl"]
;		[bg_l *]
		;f.stdsizeは最後に貼ったキャラの変数を保存。f.stdsize_ch01は揺らしで使う判定用。f.image_size_ch01はimageタグで使うファイル名生成用。
		[eval exp="f.stdsize = 'x' , f.stdsize_ch01 = 'x' , f.image_size_ch01 = 'x'"]
		;座標変数定義
		[if    exp="mp.ce"][eval exp="f.layer_ch01 = sf.layerC  , f.pos_ch01 = 'ce'"][eval exp="f.pos_ch01_x = sf.ch01_xla_ce" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_xla_y" cond="mp.y == void"]
		[elsif exp="mp.le"][eval exp="f.layer_ch01 = sf.layerL  , f.pos_ch01 = 'le'"][eval exp="f.pos_ch01_x = sf.ch01_xla_le" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_xla_y" cond="mp.y == void"]
		[elsif exp="mp.ri"][eval exp="f.layer_ch01 = sf.layerR  , f.pos_ch01 = 'ri'"][eval exp="f.pos_ch01_x = sf.ch01_xla_ri" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_xla_y" cond="mp.y == void"]
		[elsif exp="mp.lc"][eval exp="f.layer_ch01 = sf.layerLC , f.pos_ch01 = 'lc'"][eval exp="f.pos_ch01_x = sf.ch01_xla_lc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_xla_y" cond="mp.y == void"]
		[elsif exp="mp.rc"][eval exp="f.layer_ch01 = sf.layerRC , f.pos_ch01 = 'rc'"][eval exp="f.pos_ch01_x = sf.ch01_xla_rc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_xla_y" cond="mp.y == void"]
		[endif]
		;上記以外の座標を入力
		;直入力のときの揺らしどうしようかなぁ mpでいいじゃん
		[eval exp="f.pos_ch01_x = sf['ch01_xla_' + f.pos_ch01] + (+mp.x)" cond="mp.x != void"]
		[eval exp="f.pos_ch01_y = sf.ch01_xla_y + (+mp.y)"                cond="mp.y != void"]
	;フェイルセーフ　中サイズにしておく
	[else]
;		[bg_s *]
		;f.stdsizeは最後に貼ったキャラの変数を保存。f.stdsize_ch01は揺らしで使う判定用。f.image_size_ch01はimageタグで使うファイル名生成用。
		[eval exp="f.stdsize = 'm' , f.stdsize_ch01 = 'm' , f.image_size_ch01 = 'm'"]
		;座標変数定義
		[if    exp="mp.ce"][eval exp="f.layer_ch01 = sf.layerC  , f.pos_ch01 = 'ce'"][eval exp="f.pos_ch01_x = sf.ch01_mid_ce" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[elsif exp="mp.le"][eval exp="f.layer_ch01 = sf.layerL  , f.pos_ch01 = 'le'"][eval exp="f.pos_ch01_x = sf.ch01_mid_le" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[elsif exp="mp.ri"][eval exp="f.layer_ch01 = sf.layerR  , f.pos_ch01 = 'ri'"][eval exp="f.pos_ch01_x = sf.ch01_mid_ri" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[elsif exp="mp.lc"][eval exp="f.layer_ch01 = sf.layerLC , f.pos_ch01 = 'lc'"][eval exp="f.pos_ch01_x = sf.ch01_mid_lc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[elsif exp="mp.rc"][eval exp="f.layer_ch01 = sf.layerRC , f.pos_ch01 = 'rc'"][eval exp="f.pos_ch01_x = sf.ch01_mid_rc" cond="mp.x == void"][eval exp="f.pos_ch01_y = sf.ch01_mid_y" cond="mp.y == void"]
		[endif]
		;上記以外の座標を入力
		;直入力のときの揺らしどうしようかなぁ mpでいいじゃん
		[eval exp="f.pos_ch01_x = sf['ch01_mid_' + f.pos_ch01] + (+mp.x)" cond="mp.x != void"]
		[eval exp="f.pos_ch01_y = sf.ch01_mid_y + (+mp.y)"                cond="mp.y != void"]
	[endif]

	;レイヤ変えたい場合
	[eval exp="f.layer_ch01 = mp.layer" cond="mp.layer != void"]

	;indexだけの操作ってつくってなかったんだなぁあったほうがいいか
	;index定義　面倒くさいから1000のくらいで書かなくていいようにするか
	[if exp="mp.index"]
		;mpに勝手に1000足すとややこしくなりそうだからこっちは足さない
		[eval exp="f.index_ch01 = mp.index * 1000 + 1000"]
	[else]
		[eval exp="f.index_ch01 = f.layer_ch01 * 1000 + 1000"]
	[endif]

	;〜〜〜〜〜〜〜〜〜〜〜画像定義〜〜〜〜〜〜〜〜〜〜〜
	;裸
	[if    exp="mp.ha"][eval exp="f.image_base_ch01 = '_base_a' , f.ch01_cos = 'ha' , f.stdmsk = 0"]
	;制服
	[elsif exp="mp.se"][eval exp="f.image_base_ch01 = '_base_b' , f.ch01_cos = 'se' , f.stdmsk = 0"]
	;魔法服
	[elsif exp="mp.ma"][eval exp="f.image_base_ch01 = '_base_c' , f.ch01_cos = 'ma' , f.stdmsk = 0"]
	;魔法服 破損
	[elsif exp="mp.mad"][eval exp="f.image_base_ch01 = '_base_d' , f.ch01_cos = 'mad' , f.stdmsk = 0"]
	[endif]

	;精液　↑の変数にそのままくっつける 一部服装にしかないんだよなぁ
	[if    exp="mp.eki && (mp.ha || mp.mad)"][eval exp="f.image_base_ch01 = f.image_base_ch01 + '1'"]
	[else][eval exp="f.image_base_ch01 = f.image_base_ch01 + '0'"]
	[endif]

	;ポーズ　↑の変数にそのままくっつける
	[if    exp="mp.p1"][eval exp="f.image_base_ch01 = f.image_base_ch01 + '_p1'"]
	[elsif exp="mp.p2"][eval exp="f.image_base_ch01 = f.image_base_ch01 + '_p2'"]
;	[else]
;		;インフォ出すのはデバッグ時だけにするか
;		[call storage="macro08_std.ks" target=*no_coss  cond="kag.debugMenu.visible == true"]
;		[eval exp="f.image_base_ch01 = '_服1' , f.stdmsk = 0"]
	[endif]

	;フェイスウィンドウ用定義。先に定義した変数を代入するからevalは分ける。
	[eval exp="f.image_base_ch01w = f.image_base_ch01"]

	[eval exp="f.image_face_ch01 = '_face_a'"]

	;精液　↑の変数にそのままくっつける 一部服装にしかないんだよなぁ
	[if    exp="mp.eki && (mp.ha || mp.mad)"][eval exp="f.image_face_ch01 = f.image_face_ch01 + '1'"]
	[else][eval exp="f.image_face_ch01 = f.image_face_ch01 + '0'"]
	[endif]

	[eval exp="f.image_face_ch01 = f.image_face_ch01 + '_p1'"]

	;01.通常
	;02.激怒
	;03.悲しみ
	;04.喜び（目開き）
	;05.驚き
	;06.怒り
	;07.戸惑い
	;08.不安
	;09.笑い(目閉じ)
	;10.大泣き
	;11.真面目
	;12.苦悶
	;13.怯え
	;14.特殊（涙目）
	[if    exp="mp.f01" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_01'"]
	[elsif exp="mp.f02" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_02'"]
	[elsif exp="mp.f03" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_03'"]
	[elsif exp="mp.f04" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_04'"]
	[elsif exp="mp.f05" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_05'"]
	[elsif exp="mp.f06" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_06'"]
	[elsif exp="mp.f07" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_07'"]
	[elsif exp="mp.f08" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_08'"]
	[elsif exp="mp.f09" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_09'"]
	[elsif exp="mp.f10" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_10'"]
	[elsif exp="mp.f11" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_11'"]
	[elsif exp="mp.f12" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_12'"]
	[elsif exp="mp.f13" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_13'"]
	[elsif exp="mp.f14" ][eval exp="f.image_face_ch01 = f.image_face_ch01 + '_14'"]
	[else]
		[call storage="macro08_std.ks" target=*no_face  cond="kag.debugMenu.visible == true"]
		[eval exp="f.image_face_ch01 = '_01'"]
	[endif]

	;頬染めの有無定義
	;今回も別々にしないといけないかなぁ
	[if    exp="mp.ho || mp.hoho"]	[eval exp="f.image_face3_ch01 = '1'"]
	[else]				[eval exp="f.image_face3_ch01 = '0'"]
	[endif]


	;表情の変数に服装ごと打ち分けと頬染め有無を足して再定義
	[eval exp="f.image_face_ch01 = f.image_face_ch01 + f.image_face2_ch01 + f.image_face3_ch01"]

	;フェイスウィンドウ用定義
	;ベースファイル名定義
	[eval exp="f.face_win_char01_base   = sf.image_name_ch01 + 'w' + f.image_base_ch01w"]

	;表情ファイル名定義
	[eval exp="f.face_win_char01_parts1 = sf.image_name_ch01 + 's' + f.image_face_ch01"]
	;ほほ
;	[eval exp="f.face_win_char01_parts2 = sf.image_name_ch01 + '小' + sf.image_hoho"  cond="mp.ho || mp.hoho"]

	;ファイル存在してるかチェックするには統一した変数にいれないとだめか
	[eval exp="f.image_std_base = sf.image_name_ch01 + f.image_size_ch01 + f.image_base_ch01"]
	[eval exp="f.image_std_face = sf.image_name_ch01 + f.image_size_ch01 + f.image_face_ch01"]

	;〜〜〜〜〜〜〜〜〜〜〜画像読み込み〜〜〜〜〜〜〜〜〜〜〜
;ファイル名定義ですでにフェイルセーフ入れてるからチェックいれなくても良さそうだけど、間違った変数名定義されしまった時用に
@if exp="(existentImage_std_base_check(f.image_std_base)!==false)"
	;ベース
	[image * storage="&f.image_std_base" layer="&f.layer_ch01" index="&f.index_ch01" page=%page|back visible=true left="&f.pos_ch01_x" top="&f.pos_ch01_y" opacity=%opacity|255 cond="mp.off == void"]
@endif
@if exp="(existentImage_std_face_check(f.image_std_face)!==false)"
	;表情
	[pimage  storage="&f.image_std_face" layer="&f.layer_ch01" page=%page|back visible=true dx=0 dy=0 cond="mp.off == void"]
;	;表情 追加パーツ
;	[if    exp="mp.ho || mp.hoho"]
;		[pimage storage="&sf.image_name_ch01 + f.image_size_ch01 + sf.image_hoho" layer="&f.layer_ch01" page=%page|back visible=true dx=0 dy=0 mode=mul opacity=180 cond="mp.off == void"]
;	[endif]
;	;表情 追加パーツ
;	[if    exp="mp."]
;	[endif]
@endif

	;blur強度が書かれてればここで変数に入れちゃう。
	[if exp="(mp.blur_x != void || mp.blur_y != void)"]
		[eval exp="f.bluron_chara01     = 1"]
		[eval exp="f.blur_layer_chara01 = f.layer_ch01"]
		[eval exp="f.blur_x_chara01     = mp.blur_x" cond="mp.blur_x != void"]
		[eval exp="f.blur_y_chara01     = mp.blur_y" cond="mp.blur_y != void"]
		;blur命令
		[blur layer="&f.blur_layer_chara01" page=back blur_x="&f.blur_x" blur_y="&f.blur_y" cond="mp.blur_x|mp.blur_y"]
	[endif]


	;blur強度が書かれてなければ0にしておく
	[eval exp="f.bluron_chara01 = 0" cond="mp.blur_x == void && mp.blur_y == void"]
	[eval exp="f.blur_x_chara01 = 0" cond="mp.blur_x == void && mp.blur_y == void"]
	[eval exp="f.blur_y_chara01 = 0" cond="mp.blur_x == void && mp.blur_y == void"]

[endmacro]


[return]


